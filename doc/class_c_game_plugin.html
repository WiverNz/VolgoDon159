<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VOLGO-DON 159: CGamePlugin Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="volgodon159.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VOLGO-DON 159
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_c_game_plugin-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CGamePlugin Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for CGamePlugin:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_c_game_plugin.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0b1054bee0a04744cdfb65b64ea2acb7"><td class="memItemLeft" align="right" valign="top"><a id="a0b1054bee0a04744cdfb65b64ea2acb7"></a>
virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><b>GetCategory</b> () const override</td></tr>
<tr class="separator:a0b1054bee0a04744cdfb65b64ea2acb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af36e93b82a74eb467d3de4705dbf4775"><td class="memItemLeft" align="right" valign="top"><a id="af36e93b82a74eb467d3de4705dbf4775"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>Initialize</b> (SSystemGlobalEnvironment &amp;env, const SSystemInitParams &amp;initParams) override</td></tr>
<tr class="separator:af36e93b82a74eb467d3de4705dbf4775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e196a24807cfd9f970fce219c72075b"><td class="memItemLeft" align="right" valign="top"><a id="a9e196a24807cfd9f970fce219c72075b"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>OnSystemEvent</b> (ESystemEvent event, UINT_PTR wparam, UINT_PTR lparam) override</td></tr>
<tr class="separator:a9e196a24807cfd9f970fce219c72075b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461c69917bdbe145a017bd35997d06c4"><td class="memItemLeft" align="right" valign="top"><a id="a461c69917bdbe145a017bd35997d06c4"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#a461c69917bdbe145a017bd35997d06c4">OnLocalClientDisconnected</a> (EDisconnectionCause cause, const char *description) override</td></tr>
<tr class="memdesc:a461c69917bdbe145a017bd35997d06c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent to the local client on disconnect. <br /></td></tr>
<tr class="separator:a461c69917bdbe145a017bd35997d06c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeff9ad718afce93a8b4dc4ca4f0145e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#aaeff9ad718afce93a8b4dc4ca4f0145e">OnClientConnectionReceived</a> (int channelId, bool bIsReset) override</td></tr>
<tr class="separator:aaeff9ad718afce93a8b4dc4ca4f0145e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7acb497a604b28fc2f427ae4a5bdc03"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#ac7acb497a604b28fc2f427ae4a5bdc03">OnClientReadyForGameplay</a> (int channelId, bool bIsReset) override</td></tr>
<tr class="separator:ac7acb497a604b28fc2f427ae4a5bdc03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb8658293d24d4945c5faaddeca0ddc"><td class="memItemLeft" align="right" valign="top"><a id="a8eb8658293d24d4945c5faaddeca0ddc"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#a8eb8658293d24d4945c5faaddeca0ddc">OnClientDisconnected</a> (int channelId, EDisconnectionCause cause, const char *description, bool bKeepClient) override</td></tr>
<tr class="memdesc:a8eb8658293d24d4945c5faaddeca0ddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent to the server when a client is disconnected. <br /></td></tr>
<tr class="separator:a8eb8658293d24d4945c5faaddeca0ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b303d36b031fcc44fbdd6737e9566aa"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#a6b303d36b031fcc44fbdd6737e9566aa">OnClientTimingOut</a> (int channelId, EDisconnectionCause cause, const char *description) override</td></tr>
<tr class="separator:a6b303d36b031fcc44fbdd6737e9566aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53f9cb6191143ba027a19a6ff233e9e"><td class="memItemLeft" align="right" valign="top"><a id="ad53f9cb6191143ba027a19a6ff233e9e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#ad53f9cb6191143ba027a19a6ff233e9e">IterateOverPlayers</a> (std::function&lt; void(<a class="el" href="class_navigation_1_1_c_player_component.html">Navigation::CPlayerComponent</a> &amp;player)&gt; func) const</td></tr>
<tr class="memdesc:ad53f9cb6191143ba027a19a6ff233e9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to call the specified callback for every player in the game. <br /></td></tr>
<tr class="separator:ad53f9cb6191143ba027a19a6ff233e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae09ba7684f586be396e542b0b1374643"><td class="memItemLeft" align="right" valign="top"><a id="ae09ba7684f586be396e542b0b1374643"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#ae09ba7684f586be396e542b0b1374643">OnGamePostInit</a> ()</td></tr>
<tr class="memdesc:ae09ba7684f586be396e542b0b1374643"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called for the ESYSTEM_EVENT_GAME_POST_INIT event. <br /></td></tr>
<tr class="separator:ae09ba7684f586be396e542b0b1374643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fbbe79f318357bf5dace56e15f4fbb8"><td class="memItemLeft" align="right" valign="top"><a id="a8fbbe79f318357bf5dace56e15f4fbb8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#a8fbbe79f318357bf5dace56e15f4fbb8">OnRegisterSchematyc</a> ()</td></tr>
<tr class="memdesc:a8fbbe79f318357bf5dace56e15f4fbb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called for the ESYSTEM_EVENT_REGISTER_SCHEMATYC_ENV event. <br /></td></tr>
<tr class="separator:a8fbbe79f318357bf5dace56e15f4fbb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7902539e4c595db2fa3838c04afe69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#a8c7902539e4c595db2fa3838c04afe69">UpdateBeforeSystem</a> () override</td></tr>
<tr class="separator:a8c7902539e4c595db2fa3838c04afe69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa026da62a925efaccb308443203a90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#a2aa026da62a925efaccb308443203a90">MainUpdate</a> (float frameTime) override</td></tr>
<tr class="separator:a2aa026da62a925efaccb308443203a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78aba4d3bd6da47863945656d7f2b4b3"><td class="memItemLeft" align="right" valign="top"><a id="a78aba4d3bd6da47863945656d7f2b4b3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#a78aba4d3bd6da47863945656d7f2b4b3">OnGamePaused</a> ()</td></tr>
<tr class="memdesc:a78aba4d3bd6da47863945656d7f2b4b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called for the ESYSTEM_EVENT_GAME_PAUSED event. <br /></td></tr>
<tr class="separator:a78aba4d3bd6da47863945656d7f2b4b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbfb5508ee476558ef9639b8172b336e"><td class="memItemLeft" align="right" valign="top"><a id="adbfb5508ee476558ef9639b8172b336e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#adbfb5508ee476558ef9639b8172b336e">OnGameResumed</a> ()</td></tr>
<tr class="memdesc:adbfb5508ee476558ef9639b8172b336e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called for the ESYSTEM_EVENT_GAME_RESUMED event. <br /></td></tr>
<tr class="separator:adbfb5508ee476558ef9639b8172b336e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0b498065de99ee646d156ab7962eb322"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_c_game_plugin.html">CGamePlugin</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#a0b498065de99ee646d156ab7962eb322">GetInstance</a> ()</td></tr>
<tr class="separator:a0b498065de99ee646d156ab7962eb322"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab8c3b62826683d71c2c094845a3a026f"><td class="memItemLeft" align="right" valign="top"><a id="ab8c3b62826683d71c2c094845a3a026f"></a>
std::unordered_map&lt; int, EntityId &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#ab8c3b62826683d71c2c094845a3a026f">m_players</a></td></tr>
<tr class="memdesc:ab8c3b62826683d71c2c094845a3a026f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map containing player components, key is the channel id received in OnClientConnectionReceived. <br /></td></tr>
<tr class="separator:ab8c3b62826683d71c2c094845a3a026f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a62b875c159b8a2b9236a7853bf42a4"><td class="memItemLeft" align="right" valign="top"><a id="a3a62b875c159b8a2b9236a7853bf42a4"></a>
std::unordered_map&lt; int, EntityId &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#a3a62b875c159b8a2b9236a7853bf42a4">m_shipAutoPilots</a></td></tr>
<tr class="memdesc:a3a62b875c159b8a2b9236a7853bf42a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map containing ship-autopilot. <br /></td></tr>
<tr class="separator:a3a62b875c159b8a2b9236a7853bf42a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6741d84697f8f3332dd3f7772d0a6f18"><td class="memItemLeft" align="right" valign="top"><a id="a6741d84697f8f3332dd3f7772d0a6f18"></a>
std::shared_ptr&lt; <a class="el" href="class_user_interface_1_1_i_main_menu.html">UserInterface::IMainMenu</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#a6741d84697f8f3332dd3f7772d0a6f18">m_pMainMenu</a> = nullptr</td></tr>
<tr class="memdesc:a6741d84697f8f3332dd3f7772d0a6f18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main menu pointer. <br /></td></tr>
<tr class="separator:a6741d84697f8f3332dd3f7772d0a6f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad777be82a0843274470385247c996d08"><td class="memItemLeft" align="right" valign="top"><a id="ad777be82a0843274470385247c996d08"></a>
std::shared_ptr&lt; <a class="el" href="class_user_interface_1_1_i_ship_interface.html">UserInterface::IShipInterface</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_game_plugin.html#ad777be82a0843274470385247c996d08">m_pShipInterface</a> = nullptr</td></tr>
<tr class="memdesc:ad777be82a0843274470385247c996d08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ship interface pointer. <br /></td></tr>
<tr class="separator:ad777be82a0843274470385247c996d08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0b498065de99ee646d156ab7962eb322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b498065de99ee646d156ab7962eb322">&#9670;&nbsp;</a></span>GetInstance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_c_game_plugin.html">CGamePlugin</a>* CGamePlugin::GetInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper function to get the <a class="el" href="class_c_game_plugin.html">CGamePlugin</a> instance Note that <a class="el" href="class_c_game_plugin.html">CGamePlugin</a> is declared as a singleton, so the CreateClassInstance will always return the same pointer </p>

</div>
</div>
<a id="a2aa026da62a925efaccb308443203a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aa026da62a925efaccb308443203a90">&#9670;&nbsp;</a></span>MainUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CGamePlugin::MainUpdate </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>frameTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called after ISystem has been updated, this is the main update where most game logic is expected to occur This is the default update that should be preferred if you don't need any special behavior Called on a plug-in if it has called EnableUpdate(EUpdateStep::MainUpdate, true) </p>

</div>
</div>
<a id="aaeff9ad718afce93a8b4dc4ca4f0145e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeff9ad718afce93a8b4dc4ca4f0145e">&#9670;&nbsp;</a></span>OnClientConnectionReceived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CGamePlugin::OnClientConnectionReceived </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channelId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bIsReset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sent to the server when a new client has started connecting Return false to disallow the connection </p>

</div>
</div>
<a id="ac7acb497a604b28fc2f427ae4a5bdc03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7acb497a604b28fc2f427ae4a5bdc03">&#9670;&nbsp;</a></span>OnClientReadyForGameplay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CGamePlugin::OnClientReadyForGameplay </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channelId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bIsReset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sent to the server when a new client has finished connecting and is ready for gameplay Return false to disallow the connection and kick the player </p>

</div>
</div>
<a id="a6b303d36b031fcc44fbdd6737e9566aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b303d36b031fcc44fbdd6737e9566aa">&#9670;&nbsp;</a></span>OnClientTimingOut()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool CGamePlugin::OnClientTimingOut </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channelId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EDisconnectionCause&#160;</td>
          <td class="paramname"><em>cause</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>description</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sent to the server when a client is timing out (no packets for X seconds) Return true to allow disconnection, otherwise false to keep client. </p>

</div>
</div>
<a id="a8c7902539e4c595db2fa3838c04afe69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c7902539e4c595db2fa3838c04afe69">&#9670;&nbsp;</a></span>UpdateBeforeSystem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CGamePlugin::UpdateBeforeSystem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Earliest point of update in a frame, before ISystem itself is updated Called on a plug-in if it has called EnableUpdate(EUpdateStep::BeforeSystem, true) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>G:/Projects/VolgoDon159/Code/<a class="el" href="_game_plugin_8h_source.html">GamePlugin.h</a></li>
<li>G:/Projects/VolgoDon159/Code/GamePlugin.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
